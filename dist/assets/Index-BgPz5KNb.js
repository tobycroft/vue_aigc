import{N as v}from"./Net-CbKWFvYy.js";import{_ as f,A as B,r as t,o as _,h as R,d as o,w as a,f as m,F as k,j as g,c as b,a as C}from"./index-BTMlZ-hC.js";import{T as $}from"./topheader-lI_GDNGk.js";const w={data(){return{headers:[{title:"机器人Q",value:"bot"},{title:"密码",value:"password"},{title:"服主QQ",value:"owner"},{title:"绑定密钥",value:"secret"},{title:"到期日期",value:"end_date"},{title:"申请日",value:"date"},{text:"操作",value:"actions",sortable:!1}],botRequests:[]}},methods:{addBotRequest(){console.log("添加机器人请求"),this.$router.push("/v1/index/botrequest/edit")},async getBotRequests(){var e=await new v("/v1/bot/request/list").Get({});e.isSuccess&&(this.botRequests=e.data)},async deleteBotRequest(e){var n=await new v("/v1/bot/request/del").PostFormData(e);B.SetAlert(n.echo),this.$router.go(0)}},mounted(){this.getBotRequests()}};function x(e,n,h,q,r,l){const s=t("v-btn"),c=t("v-container"),d=t("v-icon"),u=t("v-data-table");return _(),R(k,null,[o(c,null,{default:a(()=>[o(s,{onClick:l.addBotRequest,color:"primary"},{default:a(()=>[m("添加")]),_:1},8,["onClick"])]),_:1}),o(u,{headers:r.headers,items:r.botRequests,"items-per-page":5,class:"elevation-1"},{"item.actions":a(({item:i})=>[o(s,{onClick:p=>l.deleteBotRequest(i),color:"red",icon:""},{default:a(()=>[o(d,null,{default:a(()=>[m("mdi-delete")]),_:1})]),_:2},1032,["onClick"])]),_:1},8,["headers","items"])],64)}const V=f(w,[["render",x]]),N=g({components:{Topheader:$,BotRequest:V},computed:{},mounted(){},data:()=>({tab:""}),methods:{changetab(){}}});function T(e,n,h,q,r,l){const s=t("Topheader"),c=t("v-tab"),d=t("v-tabs"),u=t("BotRequest"),i=t("v-app");return _(),b(i,null,{default:a(()=>[o(s),o(d,{modelValue:e.tab,"onUpdate:modelValue":n[0]||(n[0]=p=>e.tab=p),onClick:e.changetab,"fixed-tabs":"","bg-color":"indigo-darken-2"},{default:a(()=>[o(c,null,{default:a(()=>[m("添加我的机器人")]),_:1})]),_:1},8,["modelValue","onClick"]),e.tab===0?(_(),b(u,{key:0})):C("",!0)]),_:1})}const Q=f(N,[["render",T]]);export{Q as default};
