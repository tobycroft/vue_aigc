import{T as W}from"./index-DOTyCMeZ-j8oI9t91.js";import{e as Z,aj as Y,Y as ee,bh as le,Q as te,aQ as ae,R as ue,W as ne,an as se,aR as ve,A as x,P as g,a as O,bc as oe,at as ie,j as re,bb as ce,aH as de,d as h,r as j}from"./index-2GhK7Pc3.js";function L(a){const i=Math.abs(a);return Math.sign(a)*(i/((1/.501-2)*(1-i)+1))}function Q(a){let{selectedElement:i,containerSize:d,contentSize:v,isRtl:S,currentScrollOffset:r,isHorizontal:u}=a;const n=u?i.clientWidth:i.clientHeight,l=u?i.offsetLeft:i.offsetTop,o=S&&u?v-l-n:l,c=d+r,s=n+o,y=n*.4;return o<=r?r=Math.max(o-y,0):c<=s&&(r=Math.min(r-(c-s-y),v-d)),r}function fe(a){let{selectedElement:i,containerSize:d,contentSize:v,isRtl:S,isHorizontal:r}=a;const u=r?i.clientWidth:i.clientHeight,n=r?i.offsetLeft:i.offsetTop,l=S&&r?v-n-u/2-d/2:n+u/2-d/2;return Math.min(v-d,Math.max(0,l))}const pe=Symbol.for("vuetify:v-slide-group"),me=Z({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:pe},nextIcon:{type:Y,default:"$next"},prevIcon:{type:Y,default:"$prev"},showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||["always","desktop","mobile"].includes(a)},...ee(),...le(),...te(),...ae({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),ye=ue()({name:"VSlideGroup",props:me(),emits:{"update:modelValue":a=>!0},setup(a,i){let{slots:d}=i;const{isRtl:v}=ne(),{displayClasses:S,mobile:r}=se(a),u=ve(a,a.symbol),n=x(!1),l=x(0),o=x(0),c=x(0),s=g(()=>a.direction==="horizontal"),{resizeRef:y,contentRect:R}=O(),{resizeRef:f,contentRect:k}=O(),E=g(()=>u.selected.value.length?u.items.value.findIndex(e=>e.id===u.selected.value[0]):-1),V=g(()=>u.selected.value.length?u.items.value.findIndex(e=>e.id===u.selected.value[u.selected.value.length-1]):-1);if(oe){let e=-1;ie(()=>[u.selected.value,R.value,k.value,s.value],()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>{if(R.value&&k.value){const t=s.value?"width":"height";o.value=R.value[t],c.value=k.value[t],n.value=o.value+1<c.value}if(E.value>=0&&f.value){const t=f.value.children[V.value];E.value===0||!n.value?l.value=0:a.centerActive?l.value=fe({selectedElement:t,containerSize:o.value,contentSize:c.value,isRtl:v.value,isHorizontal:s.value}):n.value&&(l.value=Q({selectedElement:t,containerSize:o.value,contentSize:c.value,isRtl:v.value,currentScrollOffset:l.value,isHorizontal:s.value}))}})})}const z=x(!1);let T=0,H=0;function X(e){const t=s.value?"clientX":"clientY";H=(v.value&&s.value?-1:1)*l.value,T=e.touches[0][t],z.value=!0}function q(e){if(!n.value)return;const t=s.value?"clientX":"clientY",m=v.value&&s.value?-1:1;l.value=m*(H+T-e.touches[0][t])}function B(e){const t=c.value-o.value;l.value<0||!n.value?l.value=0:l.value>=t&&(l.value=t),z.value=!1}function U(){y.value&&(y.value[s.value?"scrollLeft":"scrollTop"]=0)}const w=x(!1);function D(e){if(w.value=!0,!(!n.value||!f.value)){for(const t of e.composedPath())for(const m of f.value.children)if(m===t){l.value=Q({selectedElement:m,containerSize:o.value,contentSize:c.value,isRtl:v.value,currentScrollOffset:l.value,isHorizontal:s.value});return}}}function G(e){w.value=!1}function K(e){var t;!w.value&&!(e.relatedTarget&&(t=f.value)!=null&&t.contains(e.relatedTarget))&&p()}function J(e){f.value&&(s.value?e.key==="ArrowRight"?p(v.value?"prev":"next"):e.key==="ArrowLeft"&&p(v.value?"next":"prev"):e.key==="ArrowDown"?p("next"):e.key==="ArrowUp"&&p("prev"),e.key==="Home"?p("first"):e.key==="End"&&p("last"))}function p(e){var t,m,$,F,P;if(f.value)if(!e)(t=ce(f.value)[0])==null||t.focus();else if(e==="next"){const b=(m=f.value.querySelector(":focus"))==null?void 0:m.nextElementSibling;b?b.focus():p("first")}else if(e==="prev"){const b=($=f.value.querySelector(":focus"))==null?void 0:$.previousElementSibling;b?b.focus():p("last")}else e==="first"?(F=f.value.firstElementChild)==null||F.focus():e==="last"&&((P=f.value.lastElementChild)==null||P.focus())}function A(e){const t=l.value+(e==="prev"?-1:1)*o.value;l.value=de(t,0,c.value-o.value)}const N=g(()=>{let e=l.value>c.value-o.value?-(c.value-o.value)+L(c.value-o.value-l.value):-l.value;l.value<=0&&(e=L(-l.value));const t=v.value&&s.value?-1:1;return{transform:`translate${s.value?"X":"Y"}(${t*e}px)`,transition:z.value?"none":"",willChange:z.value?"transform":""}}),_=g(()=>({next:u.next,prev:u.prev,select:u.select,isSelected:u.isSelected})),M=g(()=>{switch(a.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return n.value||Math.abs(l.value)>0;case"mobile":return r.value||n.value||Math.abs(l.value)>0;default:return!r.value&&(n.value||Math.abs(l.value)>0)}}),I=g(()=>Math.abs(l.value)>0),C=g(()=>c.value>Math.abs(l.value)+o.value);return re(()=>h(a.tag,{class:["v-slide-group",{"v-slide-group--vertical":!s.value,"v-slide-group--has-affixes":M.value,"v-slide-group--is-overflowing":n.value},S.value,a.class],style:a.style,tabindex:w.value||u.selected.value.length?-1:0,onFocus:K},{default:()=>{var e,t,m;return[M.value&&h("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!I.value}],onClick:()=>I.value&&A("prev")},[((e=d.prev)==null?void 0:e.call(d,_.value))??h(W,null,{default:()=>[h(j,{icon:v.value?a.nextIcon:a.prevIcon},null)]})]),h("div",{key:"container",ref:y,class:"v-slide-group__container",onScroll:U},[h("div",{ref:f,class:"v-slide-group__content",style:N.value,onTouchstartPassive:X,onTouchmovePassive:q,onTouchendPassive:B,onFocusin:D,onFocusout:G,onKeydown:J},[(t=d.default)==null?void 0:t.call(d,_.value)])]),M.value&&h("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!C.value}],onClick:()=>C.value&&A("next")},[((m=d.next)==null?void 0:m.call(d,_.value))??h(W,null,{default:()=>[h(j,{icon:v.value?a.prevIcon:a.nextIcon},null)]})])]}})),{selected:u.selected,scrollTo:A,scrollOffset:l,focus:p}}});export{ye as g,me as p};
