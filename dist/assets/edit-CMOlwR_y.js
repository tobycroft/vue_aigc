import{N as m}from"./Net-B9Z0eCCv.js";import{_ as p,c,y as l,o as V,v as e,a3 as y,z as f,ak as k,F as _,G as d,V as D}from"./index-BJQz1I_A.js";import{V as u}from"./VContainer-D9L3iSw7.js";import{V as h}from"./VForm-CauLsvni.js";import{V as b,a as i}from"./VRow-CuQ-ON94.js";import{V as s}from"./VTextField-CLRRpAU5.js";import{V as F}from"./VSelect-qHvIWgT0.js";import"./TokenModel-epR9isAp.js";import"./index-CY3xZy9q.js";import"./VList-BmEjyFRU.js";import"./VDivider-DfLXtV5r.js";import"./VVirtualScroll-BWjNieis.js";import"./VSlideGroup-CUooAdZ-.js";const v={data(){return{formData:{},iflytekId:null,teamList:[]}},methods:{async fetchTeamList(){try{const o=await new m("/v1/user/team/list").PostFormData();o.code===0?this.teamList=o.data.map(t=>({id:t.team_info.id,title:t.team_info.name})):console.error("Failed to fetch team list:",o.echo)}catch(o){console.error("Failed to fetch team list:",o)}},async fetchInfo(){try{const o=await new m("/v1/iflytek/info/get").PostFormData({id:this.iflytekId});o.code===0?this.formData=o.data:console.error("Failed to fetch iflytek info:",o.echo)}catch(o){console.error("Failed to fetch iflytek info:",o)}},async updateInfo(){try{const o=this.formData,t=await new m("/v1/iflytek/info/update").PostFormData(o);t.code===0?this.goBack():console.error("Failed to update iflytek info:",t.echo)}catch(o){console.error("Failed to update iflytek info:",o)}},goBack(){this.$router.push("/v1/key?tab=iflytek")}},mounted(){this.fetchTeamList(),this.iflytekId=parseInt(this.$route.query.id),isNaN(this.iflytekId)?console.error("Invalid iflytek ID:",this.$route.query.id):this.fetchInfo()}};function I(o,t,w,x,a,n){return V(),c(u,null,{default:l(()=>[e(D,null,{default:l(()=>[e(y,null,{default:l(()=>[f("更新 iflytek 信息")]),_:1}),e(k,null,{default:l(()=>[e(h,{onSubmit:_(n.updateInfo,["prevent"])},{default:l(()=>[e(u,null,{default:l(()=>[e(b,null,{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[e(s,{modelValue:a.formData.name,"onUpdate:modelValue":t[0]||(t[0]=r=>a.formData.name=r),label:"名称"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(F,{modelValue:a.formData.team_id,"onUpdate:modelValue":t[1]||(t[1]=r=>a.formData.team_id=r),items:a.teamList,label:"选项","item-text":"title","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(s,{modelValue:a.formData.host,"onUpdate:modelValue":t[2]||(t[2]=r=>a.formData.host=r),label:"host"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(s,{modelValue:a.formData.api_secret,"onUpdate:modelValue":t[3]||(t[3]=r=>a.formData.api_secret=r),label:"api_secret"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(s,{modelValue:a.formData.app_id,"onUpdate:modelValue":t[4]||(t[4]=r=>a.formData.app_id=r),label:"app_id"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(s,{modelValue:a.formData.api_key,"onUpdate:modelValue":t[5]||(t[5]=r=>a.formData.api_key=r),label:"api_key"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(s,{modelValue:a.formData.vcn,"onUpdate:modelValue":t[6]||(t[6]=r=>a.formData.vcn=r),label:"vcn"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,{type:"submit",color:"primary",block:"",class:"mt-4"},{default:l(()=>[f("更新")]),_:1}),e(d,{onClick:n.goBack,color:"grey",block:"",class:"mt-4"},{default:l(()=>[f("返回")]),_:1},8,["onClick"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}const R=p(v,[["render",I]]);export{R as default};
