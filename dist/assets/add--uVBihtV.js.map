{"version":3,"file":"add--uVBihtV.js","sources":["../../src/views/v1/team/subtoken/add.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-card>\r\n      <v-card-title>添加团队 Token</v-card-title>\r\n      <v-card-text>\r\n        <v-form @submit.prevent=\"createToken\">\r\n          <v-container>\r\n            <v-row>\r\n              <v-col cols=\"12\">\r\n                <v-select v-model=\"selectedCoinId\" :items=\"coinList\" label=\"选择GPT类型\" item-text=\"name\" item-value=\"id\"></v-select>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-text-field v-model=\"formData.name\" label=\"key名称\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-text-field v-model=\"formData.team_id\" label=\"团队id\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-text-field v-model=\"formData.prefix\" label=\"prefix标签\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-text-field v-model=\"formData.amount\" label=\"可以使用的余额,如果是-1就是无线，大于0就按正常的扣\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-text-field v-model=\"formData.from_id\" label=\"上级id\"></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-container>\r\n          <v-btn type=\"submit\" color=\"primary\" block class=\"mt-4\">添加</v-btn>\r\n          <v-btn @click=\"goBack\" color=\"grey\" block class=\"mt-4\">返回</v-btn>\r\n        </v-form>\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport Net from \"@/plugins/Net\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      team_info: {},\r\n      team: this.$route.query,\r\n      coinList: [],\r\n      selectedCoinId: null,\r\n      formData: {\r\n        name: '测试key名称，随便起一个',\r\n        team_id: '',\r\n        prefix: '',\r\n        amount: '-1',\r\n        from_id: '1'\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchTeamInfo() {\r\n      // 获取团队信息\r\n      const ret = await new Net(`/v1/user/team/get`).PostFormData(this.team);\r\n      if (ret.code === 0) {\r\n        // 填充团队信息到表单中\r\n        this.team_info = ret.data.team_info\r\n        this.formData.prefix = ret.data.team_info.prefix\r\n        this.formData.team_id = ret.data.team_info.id\r\n        // 如果还有其他字段，也可以在这里填充\r\n      } else {\r\n        console.error(ret.echo);\r\n      }\r\n    },\r\n    async fetchCoinList() {\r\n      try {\r\n        const response = await new Net('/v1/coin/info/list').PostFormData();\r\n        if (response.code === 0) {\r\n          this.coinList = response.data.map(coin => ({id: coin.id, title: coin.name}));\r\n        } else {\r\n          console.error('Failed to fetch coin list:', response.echo);\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch coin list:', error);\r\n      }\r\n    },\r\n    async createToken() {\r\n      try {\r\n        const payload = {\r\n          name: this.formData.name,\r\n          team_id: this.formData.team_id,\r\n          coin_id: this.selectedCoinId,\r\n          prefix: this.formData.prefix,\r\n          amount: this.formData.amount,\r\n          from_id: this.formData.from_id\r\n        };\r\n        const response = await new Net('/v1/team/subtoken/create').PostFormData(payload);\r\n        if (response.code === 0) {\r\n          // 添加成功，可以根据需求执行一些操作，比如跳转页面或者提示成功信息\r\n          this.$router.push({path: `/v1/team/subtoken`, query: this.team});\r\n        } else {\r\n          console.error('Failed to create token:', response.echo);\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to create token:', error);\r\n      }\r\n    },\r\n    goBack() {\r\n      // 返回到团队 Token 列表页面\r\n      this.$router.push({path: `/v1/team/subtoken`, query: this.team});\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchTeamInfo()\r\n    this.fetchCoinList();\r\n  }\r\n}\r\n</script>\r\n"],"names":["_createBlock","_component_v_container","_withCtx","_createVNode","_component_v_card","_component_v_card_title","_createTextVNode","_component_v_card_text","_component_v_form","_withModifiers","_component_v_row","_component_v_col","_component_v_select","_component_v_text_field","_component_v_btn"],"mappings":"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"}