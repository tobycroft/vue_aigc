import{l as f}from"./Net-CpAMwQYd-GNWnwlkL.js";import{l as h}from"./moment-Cl4UOzQZ-DUZ8gl-d.js";import{u as k}from"./topheader-0IYwMmEf-BwNfIFeE.js";import{f as y,H as l,Z as r,n as e,d as t,a4 as v,p as s,q as C,a1 as L,ai as T,ay as n,V as H,aL as b,N as u,a3 as w,U as D}from"./index-2GhK7Pc3.js";import{C as g}from"./VContainer-CrqgRyvL-DkLkhJU8.js";import{H as Y,g as q,B as $,L as c}from"./VList-CmUa2Hto-CQy7AFPJ.js";import{z as x,x as p}from"./VRow-vtKMBAHJ-DVo1zGEg.js";import"./index-DOTyCMeZ-j8oI9t91.js";import"./TokenModel-B5FLYtgf-D3Bu0gJP.js";import"./gobotq-3Wa2au3z-DdkrL1Vq.js";import"./index-VZFVW0nk.js";import"./ssrBoot-BNxG8Y-q-DphqTJ1q.js";const F={components:{top_header:k},data(){return{teamList:[]}},methods:{async fetchTeamList(){const a=await new f("/v1/user/team/list").PostFormData();a.code===0?this.teamList=a.data:console.error(a.echo)},async addTeam(){this.$router.push("/v1/user/team/create")},async deleteTeam(a){const i=await new f("/v1/user/team/delete").PostFormData(a);i.code===0?this.fetchTeamList():console.error(i.echo)},async editTeam(a){this.$router.push({path:"/v1/user/team/edit",query:a})},async subtoken(a){this.$router.push({path:"/v1/team/subtoken",query:a})},formattedDate(a){return h(a).format("YYYY-MM-DD HH:mm:ss")}},mounted(){this.fetchTeamList()}};function j(a,i,B,M,_,m){return l(),r(g,null,{default:e(()=>[t(D,null,{default:e(()=>[t(v,null,{default:e(()=>[s("团队列表")]),_:1}),t(C,null,{default:e(()=>[t(Y,null,{default:e(()=>[(l(!0),L(w,null,T(_.teamList,o=>(l(),r(q,{key:o.id},{default:e(()=>[t(x,{align:"center",justify:"space-between"},{default:e(()=>[t(p,{cols:"8"},{default:e(()=>[t($,null,{default:e(()=>[s(n(o.team_info.name),1)]),_:2},1024),o.nickname?(l(),r(c,{key:0},{default:e(()=>[s(n(o.nickname),1)]),_:2},1024)):H("",!0),t(c,null,{default:e(()=>[s(n(o.role),1)]),_:2},1024),t(c,null,{default:e(()=>[s(n(m.formattedDate(o.date)),1)]),_:2},1024)]),_:2},1024),t(p,{cols:"4"},{default:e(()=>[t(b,null,{default:e(()=>[t(u,{class:"mt-4",onClick:d=>m.subtoken(o),color:"green"},{default:e(()=>[s("团队token管理")]),_:2},1032,["onClick"]),t(u,{class:"mt-4",onClick:d=>m.editTeam(o),color:"primary"},{default:e(()=>[s("修改团队信息")]),_:2},1032,["onClick"]),o.role==="admin"||o.role==="owner"?(l(),r(u,{key:0,class:"mt-4",onClick:d=>m.deleteTeam(o),color:"error"},{default:e(()=>[s("解散团队")]),_:2},1032,["onClick"])):(l(),r(u,{key:1,class:"mt-4",onClick:d=>m.deleteTeam(o),color:"error"},{default:e(()=>[s("退出团队")]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}const G=y(F,[["render",j]]);export{G as default};
