import{N as V}from"./Net-XkwkGj8j.js";import{T as i}from"./TokenModel-epR9isAp.js";import{m as g,V as u}from"./md5-Cor3po3z.js";import{_ as k,c as n,y as s,o as m,C as d,D as C,E as h,F as c,v as t,G as _,H as r,z as f,I as w}from"./index-GYFMzDx2.js";import{_ as b}from"./gobotq-3Wa2au3z.js";import{V as x}from"./index-LR9VLuXw.js";import{V as y}from"./VContainer-BB9V2PGD.js";import{V as v}from"./VForm-CR-9bCWs.js";import{V as p}from"./VTextField-CMQBqD-z.js";const S={beforeCreate(){i.Api_is_login()&&this.$router.push("/index")},created(){this.username=localStorage.getItem("username")},data:()=>({show1:!0,show2:!1,username:"",password:"",rules:[e=>e?!0:"这里填写的应该是你的用户名，而不是你机器人的用户名"]}),methods:{gotonext(){this.username.length>1&&(this.show1=!1,this.show2=!0,localStorage.setItem("username",this.username))},clearout(){this.show2=!1,this.show1=!0,this.username="",localStorage.removeItem("username")},async login(){var e=await new V("/v1/user/auth/register").PostFormData({username:this.username,password:g(this.password)});e.isSuccess&&(i.Api_set_uidAndToken(e.data.uid,e.data.token),this.$router.push("/center"))}}},N=w("h3",{class:"text-h6 mb-4"},"填写密码",-1),T=w("div",{class:"text-body-2"},null,-1);function B(e,a,F,I,A,o){return m(),n(y,{class:"align-self-center"},{default:s(()=>[e.show1?(m(),n(d,{key:0,class:"mx-auto","max-width":"200",height:"200",image:b,title:"GobotQ",theme:"dark"})):C("",!0),h(t(u,{width:"100%",class:"mx-auto mt-6"},{default:s(()=>[t(v,{onSubmit:a[1]||(a[1]=_(()=>{},["prevent"]))},{default:s(()=>[t(p,{autofocus:"",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=l=>e.username=l),rules:e.rules,label:"这里输入你的用户名"},null,8,["modelValue","rules"]),t(r,{type:"submit",block:"",class:"mt-0",color:"blue",onClick:o.gotonext},{default:s(()=>[f("下一步")]),_:1},8,["onClick"]),t(r,{type:"submit",block:"",class:"mt-4",color:"grey",onClick:o.clearout},{default:s(()=>[f("清空数据")]),_:1},8,["onClick"])]),_:1})]),_:1},512),[[c,e.show1]]),t(x,null,{default:s(()=>[h(t(d,{class:"py-8 px-6 text-center mx-auto ma-4",elevation:"12","max-width":"100%",width:"100%"},{default:s(()=>[N,T,t(u,{color:"surface"},{default:s(()=>[t(p,{modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=l=>e.password=l),type:"password",label:"密码","max-width":"400"},null,8,["modelValue"])]),_:1}),t(r,{onClick:o.login,class:"my-4",color:"blue",height:"40",text:"验证并登录",variant:"flat",width:"70%"},null,8,["onClick"]),t(r,{onClick:o.clearout,class:"my-4",color:"grey",height:"40",text:"返回",variant:"flat",width:"70%"},null,8,["onClick"])]),_:1},512),[[c,e.show2]])]),_:1})]),_:1})}const Q=k(S,[["render",B]]);export{Q as default};
