import{T as $}from"./topheader-lI_GDNGk.js";import{N as y,T as w}from"./Net-CbKWFvYy.js";import{_ as p,r,o as f,c as v,w as l,g as n,t as i,d,f as g,j as D,a as k}from"./index-BTMlZ-hC.js";const L={mounted(){this.getGroupList()},data(){return{headers:[{title:"机器人ID",value:"self_id"},{title:"群ID",value:"group_id"},{title:"群名称",value:"group_info.group_name"},{title:"群名片",value:"card"},{title:"角色",value:"role"},{title:"操作",value:"modify",sortable:!1}],items:[]}},methods:{formatTimestamp(t){return new Date(t*1e3).toLocaleString()},async getGroupList(){var t=await new y("/v1/group/member/bot").Get({});if(t.isSuccess){const a=t.data;a.forEach(function(o){switch(o.role){case"admin":o.role="管理员";break;case"owner":o.role="群主";break;case"member":o.role="群成员";break}}),this.items=a}},modify(t){this.$router.push({path:"/v1/group/edit",query:{group_id:t.group_id,self_id:t.self_id}})},reset(t){console.log(t)}}};function S(t,a,o,b,u,m){const c=r("v-icon"),s=r("v-btn"),_=r("v-data-table");return f(),v(_,{headers:u.headers,items:u.items,"items-per-page":15,class:"elevation-1"},{items:l(e=>[n("tr",null,[n("td",null,i(e.item.self_id),1),n("td",null,i(e.item.user_id),1),n("td",null,i(e.item.nickname),1),n("td",null,i(e.item.card),1),n("td",null,i(e.item.role),1),n("td",null,i(m.formatTimestamp(e.item.join_time)),1),n("td",null,i(m.formatTimestamp(e.item.last_sent_time)),1),n("td",null,i(e.item.level),1),n("td",null,i(e.item.id),1),n("td",null,i(e.item.group_id),1),n("td",null,i(e.item.title),1)])]),"item.modify":l(({item:e})=>[d(s,{onClick:h=>m.modify(e),icon:""},{default:l(()=>[d(c,null,{default:l(()=>[g("mdi-exit-run")]),_:1})]),_:2},1032,["onClick"])]),_:1},8,["headers","items"])}const A=p(L,[["render",S]]),N={mounted(){this.getGroupList()},data(){return{headers:[{title:"群ID",value:"group_id"},{title:"群名称",value:"group_info.group_name"},{title:"群名片",value:"card"},{title:"角色",value:"role"},{title:"操作",value:"modify",sortable:!1}],items:[]}},methods:{formatTimestamp(t){return new Date(t*1e3).toLocaleString()},async getGroupList(){var t=await new y("/v1/group/member/list").PostFormData({user_id:w.Api_find_uid(),role:JSON.stringify(["admin","owner"])});if(t.isSuccess){const a=t.data;a.forEach(function(o){switch(o.role){case"admin":o.role="管理员";break;case"owner":o.role="群主";break;case"member":o.role="群成员";break}}),this.items=a}},modify(t){this.$router.push({path:"/v1/group/edit",query:{group_id:t.group_id,self_id:t.self_id}})},reset(t){console.log(t)}}};function M(t,a,o,b,u,m){const c=r("v-icon"),s=r("v-btn"),_=r("v-data-table");return f(),v(_,{headers:u.headers,items:u.items,"items-per-page":15,class:"elevation-1"},{items:l(e=>[n("tr",null,[n("td",null,i(e.item.self_id),1),n("td",null,i(e.item.user_id),1),n("td",null,i(e.item.nickname),1),n("td",null,i(e.item.card),1),n("td",null,i(e.item.role),1),n("td",null,i(m.formatTimestamp(e.item.join_time)),1),n("td",null,i(m.formatTimestamp(e.item.last_sent_time)),1),n("td",null,i(e.item.level),1),n("td",null,i(e.item.id),1),n("td",null,i(e.item.group_id),1),n("td",null,i(e.item.title),1)])]),"item.modify":l(({item:e})=>[d(s,{onClick:h=>m.modify(e),icon:""},{default:l(()=>[d(c,null,{default:l(()=>[g("mdi-pencil")]),_:1})]),_:2},1032,["onClick"])]),_:1},8,["headers","items"])}const V=p(N,[["render",M]]),B={mounted(){this.getGroupList()},data(){return{headers:[{title:"群ID",value:"group_id"},{title:"群名称",value:"group_info.group_name"},{title:"群名片",value:"card"},{title:"角色",value:"role"}],items:[]}},methods:{formatTimestamp(t){return new Date(t*1e3).toLocaleString()},async getGroupList(){var t=await new y("/v1/group/member/list").PostFormData({user_id:w.Api_find_uid(),role:JSON.stringify(["member"])});if(t.isSuccess){const a=t.data;a.forEach(function(o){switch(o.role){case"admin":o.role="管理员";break;case"owner":o.role="群主";break;case"member":o.role="群成员";break}}),this.items=a}},modify(t){this.$router.push({path:"/v1/group/edit",query:{group_id:t.group_id,self_id:t.self_id}})},reset(t){console.log(t)}}};function J(t,a,o,b,u,m){const c=r("v-icon"),s=r("v-btn"),_=r("v-data-table");return f(),v(_,{headers:u.headers,items:u.items,"items-per-page":15,class:"elevation-1"},{items:l(e=>[n("tr",null,[n("td",null,i(e.item.self_id),1),n("td",null,i(e.item.user_id),1),n("td",null,i(e.item.nickname),1),n("td",null,i(e.item.card),1),n("td",null,i(e.item.role),1),n("td",null,i(m.formatTimestamp(e.item.join_time)),1),n("td",null,i(m.formatTimestamp(e.item.last_sent_time)),1),n("td",null,i(e.item.level),1),n("td",null,i(e.item.id),1),n("td",null,i(e.item.group_id),1),n("td",null,i(e.item.title),1)])]),"item.modify":l(({item:e})=>[d(s,{onClick:h=>m.modify(e),icon:""},{default:l(()=>[d(c,null,{default:l(()=>[g("mdi-pencil")]),_:1})]),_:2},1032,["onClick"]),d(s,{onClick:h=>m.reset(e),icon:""},{default:l(()=>[d(c,null,{default:l(()=>[g("mdi-refresh")]),_:1})]),_:2},1032,["onClick"])]),_:1},8,["headers","items"])}const j=p(B,[["render",J]]),x=D({components:{MyJoinGroup:j,MyAdminGroup:V,BotAdminGroup:A,Topheader:$},computed:{},mounted(){},data:()=>({tab:""}),methods:{changetab(){}}});function I(t,a,o,b,u,m){const c=r("Topheader"),s=r("v-tab"),_=r("v-tabs"),e=r("MyAdminGroup"),h=r("MyJoinGroup"),G=r("BotAdminGroup"),T=r("v-app");return f(),v(T,null,{default:l(()=>[d(c),d(_,{modelValue:t.tab,"onUpdate:modelValue":a[0]||(a[0]=C=>t.tab=C),onClick:t.changetab,"fixed-tabs":"","bg-color":"indigo-darken-2"},{default:l(()=>[d(s,null,{default:l(()=>[g("我管理的群")]),_:1}),d(s,null,{default:l(()=>[g("我加入的群")]),_:1}),d(s,null,{default:l(()=>[g("机器人加入的群")]),_:1})]),_:1},8,["modelValue","onClick"]),t.tab===0?(f(),v(e,{key:0})):k("",!0),t.tab===1?(f(),v(h,{key:1})):k("",!0),t.tab===2?(f(),v(G,{key:2})):k("",!0)]),_:1})}const O=p(x,[["render",I]]);export{O as default};
