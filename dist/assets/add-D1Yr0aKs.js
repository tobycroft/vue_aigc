import{N as n}from"./Net-DR5xdIpv.js";import{_ as p,c as V,y as a,o as c,v as e,a4 as _,z as d,V as D,U as b,W as u,Q as y}from"./index-DrpHUQ_u.js";import{V as f}from"./VContainer-CQ4ihCLI.js";import{V as k}from"./VForm-CNX2xB_8.js";import{V as h,a as m}from"./VRow-Btk9ieUD.js";import{V as s}from"./VTextField-QGoYnG1C.js";import{V as F}from"./VSelect-D8IIB2Sn.js";import"./TokenModel-epR9isAp.js";import"./index-DleW95Ji.js";import"./VVirtualScroll-Dh98MEMU.js";import"./ssrBoot-D7Ugkp-Y.js";import"./VSlideGroup-Bb4QW3gZ.js";const T={data(){return{formData:{name:"",team_id:null,key:"",base_url:"",model:"",detail:0},teamList:[]}},methods:{async fetchTeamList(){try{const r=await new n("/v1/user/team/list").PostFormData();r.code===0?this.teamList=r.data.map(t=>({id:t.team_info.id,title:t.team_info.name})):console.error("Failed to fetch team list:",r.echo)}catch(r){console.error("Failed to fetch team list:",r)}},async addInfo(){try{const r={name:this.formData.name,team_id:parseInt(this.formData.team_id),key:this.formData.key,base_url:this.formData.base_url,model:this.formData.model,detail:parseInt(this.formData.detail)},t=await new n("/v1/fastgpt/info/add").PostFormData(r);t.code===0?this.$router.push("/v1/key?tab=fastgpt"):console.error("Failed to add FastGPT info:",t.echo)}catch(r){console.error("Failed to add FastGPT info:",r)}},goBack(){this.$router.push("/v1/key?tab=fastgpt")}},async mounted(){this.fetchTeamList()}};function x(r,t,C,U,l,i){return c(),V(f,null,{default:a(()=>[e(y,null,{default:a(()=>[e(_,null,{default:a(()=>[d("添加 FastGPT 信息")]),_:1}),e(D,null,{default:a(()=>[e(k,{onSubmit:b(i.addInfo,["prevent"])},{default:a(()=>[e(f,null,{default:a(()=>[e(h,null,{default:a(()=>[e(m,{cols:"12"},{default:a(()=>[e(s,{modelValue:l.formData.name,"onUpdate:modelValue":t[0]||(t[0]=o=>l.formData.name=o),label:"名称"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(F,{modelValue:l.formData.team_id,"onUpdate:modelValue":t[1]||(t[1]=o=>l.formData.team_id=o),items:l.teamList,label:"选项","item-text":"title","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(s,{modelValue:l.formData.key,"onUpdate:modelValue":t[2]||(t[2]=o=>l.formData.key=o),label:"Key"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(s,{modelValue:l.formData.base_url,"onUpdate:modelValue":t[3]||(t[3]=o=>l.formData.base_url=o),label:"Base URL"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(s,{modelValue:l.formData.model,"onUpdate:modelValue":t[4]||(t[4]=o=>l.formData.model=o),label:"Model"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(s,{modelValue:l.formData.detail,"onUpdate:modelValue":t[5]||(t[5]=o=>l.formData.detail=o),label:"Detail"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,{type:"submit",color:"primary",block:"",class:"mt-4"},{default:a(()=>[d("添加")]),_:1}),e(u,{onClick:i.goBack,color:"grey",block:"",class:"mt-4"},{default:a(()=>[d("返回")]),_:1},8,["onClick"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}const z=p(T,[["render",x]]);export{z as default};
