import{N as n}from"./Net-CiyT3oSu.js";import{_ as c,c as p,y as t,o as V,v as e,a3 as w,z as m,ak as h,F as y,G as u,V as D}from"./index-CM7I0Y-P.js";import{V as f}from"./VContainer-Sk59pdqv.js";import{V as q}from"./VForm-B1b1V_nN.js";import{V as _,a as s}from"./VRow-CIK9F4Rr.js";import{V as i}from"./VTextField-DkfgnzRv.js";import{V as k}from"./VSelect-DAuDnCoq.js";import"./TokenModel-epR9isAp.js";import"./index-C6VGq7b5.js";import"./VList-DCXYnB4v.js";import"./VDivider-4IauqKTl.js";import"./VVirtualScroll-DWr3fBNV.js";import"./VSlideGroup-CGieqtSc.js";const F={data(){return{formData:{},teamList:[],qwenId:null}},methods:{async fetchTeamList(){try{const o=await new n("/v1/user/team/list").PostFormData();o.code===0?this.teamList=o.GetTeamList():console.error("Failed to fetch team list:",o.echo)}catch(o){console.error("Failed to fetch team list:",o)}},async fetchInfo(){try{const o=await new n("/v1/qwen/info/get").PostFormData({id:this.qwenId});o.code===0?this.formData=o.data:console.error("Failed to fetch qwen info:",o.echo)}catch(o){console.error("Failed to fetch qwen info:",o)}},async updateInfo(){try{const o=this.formData,a=await new n("/v1/qwen/info/update").PostFormData(o);a.code===0?this.goBack():console.error("Failed to update qwen info:",a.echo)}catch(o){console.error("Failed to update qwen info:",o)}},goBack(){this.$router.push("/v1/key?tab=qwen")}},mounted(){this.fetchTeamList(),this.qwenId=parseInt(this.$route.query.id),isNaN(this.qwenId)?console.error("Invalid qwen ID:",this.$route.query.id):this.fetchInfo()}};function b(o,a,I,v,l,d){return V(),p(f,null,{default:t(()=>[e(D,null,{default:t(()=>[e(w,null,{default:t(()=>[m("更新 qwen 信息")]),_:1}),e(h,null,{default:t(()=>[e(q,{onSubmit:y(d.updateInfo,["prevent"])},{default:t(()=>[e(f,null,{default:t(()=>[e(_,null,{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e(i,{modelValue:l.formData.name,"onUpdate:modelValue":a[0]||(a[0]=r=>l.formData.name=r),label:"名称"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(k,{modelValue:l.formData.team_id,"onUpdate:modelValue":a[1]||(a[1]=r=>l.formData.team_id=r),items:l.teamList,label:"选项","item-text":"title","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(i,{modelValue:l.formData.key,"onUpdate:modelValue":a[2]||(a[2]=r=>l.formData.key=r),label:"Key"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(i,{modelValue:l.formData.rid,"onUpdate:modelValue":a[3]||(a[3]=r=>l.formData.rid=r),label:"rid"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(i,{modelValue:l.formData.model,"onUpdate:modelValue":a[4]||(a[4]=r=>l.formData.model=r),label:"Model"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,{type:"submit",color:"primary",block:"",class:"mt-4"},{default:t(()=>[m("更新")]),_:1}),e(u,{onClick:d.goBack,color:"grey",block:"",class:"mt-4"},{default:t(()=>[m("返回")]),_:1},8,["onClick"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}const K=c(F,[["render",b]]);export{K as default};
