import{N as d}from"./Net-CbKWFvYy.js";import{_ as D,A as y,c as r,w as n,r as a,o as s,d as u,h as x,i as F,F as U,f as _,e as g,a as b}from"./index-BTMlZ-hC.js";const C={data(){return{valid:!0,show1:!1,formData:{img:"",password:"",allow_ip:"",cname:"",self_id:null,type:"public",owner:null,secret:"",active:!1,date:"",end_date:"",id:null},fields:[{key:"password",label:"密码",type:"password",rules:[]},{key:"secret",label:"密钥",type:"password",rules:[]},{key:"allow_ip",label:"允许的IP",type:"ip",rules:[]},{key:"type",label:"类型",type:"select",items:["public","private","share"],rules:[]},{key:"owner",label:"所有者",type:"text",rules:[]},{key:"active",label:"激活状态",type:"switch",rules:[]}]}},methods:{updateFormData(o,m){},async submitForm(){var o=await new d("/v1/bot/info/edit").PostFormData(this.formData);o.isSuccess?(y.SetAlert(o.echo),this.$router.go(-1)):y.SetAlert(o.echo)},back(){this.$router.go(-1)},async fillForm(){var o=await new d("/v1/bot/info/get").PostFormData({self_id:this.$route.query.self_id});o.isSuccess&&(this.formData=o.data,this.formData.active=!!o.data.active)}},mounted(){this.fillForm()},props:{jsonData:Object}};function S(o,m,N,A,t,c){const p=a("v-text-field"),v=a("v-select"),k=a("v-switch"),f=a("v-col"),w=a("v-row"),i=a("v-btn"),h=a("v-form"),V=a("v-container");return s(),r(V,null,{default:n(()=>[u(h,{modelValue:t.valid,"onUpdate:modelValue":m[1]||(m[1]=e=>t.valid=e),ref:"form",onSubmit:g(c.submitForm,["prevent"])},{default:n(()=>[u(w,null,{default:n(()=>[(s(!0),x(U,null,F(t.fields,e=>(s(),r(f,{key:e.key,cols:"12",md:"6"},{default:n(()=>[e.type==="text"||e.type==="ip"?(s(),r(p,{key:0,"hide-details":"false",label:e.label,type:e.type,modelValue:t.formData[e.key],"onUpdate:modelValue":l=>t.formData[e.key]=l,rules:e.rules},null,8,["label","type","modelValue","onUpdate:modelValue","rules"])):b("",!0),e.type==="password"?(s(),r(p,{key:1,"append-icon":t.show1?"mdi-eye":"mdi-eye-off","hide-details":"false",label:e.label,type:t.show1?"text":"password",modelValue:t.formData[e.key],"onUpdate:modelValue":l=>t.formData[e.key]=l,rules:e.rules,"onClick:append":m[0]||(m[0]=l=>t.show1=!t.show1)},null,8,["append-icon","label","type","modelValue","onUpdate:modelValue","rules"])):e.type==="select"?(s(),r(v,{key:2,label:e.label,items:e.items,modelValue:t.formData[e.key],"onUpdate:modelValue":l=>t.formData[e.key]=l},null,8,["label","items","modelValue","onUpdate:modelValue"])):e.type==="switch"?(s(),r(k,{key:3,inset:"",label:e.label,modelValue:t.formData[e.key],"onUpdate:modelValue":l=>t.formData[e.key]=l},null,8,["label","modelValue","onUpdate:modelValue"])):b("",!0)]),_:2},1024))),128))]),_:1}),u(i,{type:"submit",disabled:!t.valid,block:"",color:"primary",class:"mt-4"},{default:n(()=>[_("提交")]),_:1},8,["disabled"]),u(i,{block:"",color:"grey",class:"mt-4",onClick:c.back},{default:n(()=>[_("返回")]),_:1},8,["onClick"])]),_:1},8,["modelValue","onSubmit"])]),_:1})}const j=D(C,[["render",S]]);export{j as default};
