import{N as f}from"./Net-D7ZKMrbs.js";import{h}from"./moment-Cl4UOzQZ.js";import{T as k}from"./topheader-zOh0spfU.js";import{_ as V,c as n,y as e,o as s,v as t,aF as y,z as o,V as C,ad as T,aH as L,a3 as v,W as w,aB as c,X as D,aI as b,E as i}from"./index-RAoTM10d.js";import{V as x}from"./VContainer-CCr8sb45.js";import{a as B,b as N,c as $,d}from"./VList-t2Neuc53.js";import{V as g,a as _}from"./VRow-Bd-cOwr-.js";import"./TokenModel-B5FLYtgf.js";import"./gobotq-3Wa2au3z.js";import"./index-CC8CDgwQ.js";import"./ssrBoot-BwWCRUVP.js";const F={components:{top_header:k},data(){return{teamList:[]}},methods:{async fetchTeamList(){const a=await new f("/v1/user/team/list").PostFormData();a.code===0?this.teamList=a.data:console.error(a.echo)},async addTeam(){this.$router.push("/v1/user/team/create")},async deleteTeam(a){const u=await new f("/v1/user/team/delete").PostFormData(a);u.code===0?this.fetchTeamList():console.error(u.echo)},async editTeam(a){this.$router.push({path:"/v1/user/team/edit",query:a})},async subtoken(a){this.$router.push({path:"/v1/team/subtoken",query:a})},formattedDate(a){return h(a).format("YYYY-MM-DD HH:mm:ss")}},mounted(){this.fetchTeamList()}};function I(a,u,Y,H,p,l){return s(),n(x,null,{default:e(()=>[t(w,null,{default:e(()=>[t(y,null,{default:e(()=>[o("团队列表")]),_:1}),t(C,null,{default:e(()=>[t(B,null,{default:e(()=>[(s(!0),T(v,null,L(p.teamList,r=>(s(),n(N,{key:r.id},{default:e(()=>[t(g,{align:"center",justify:"space-between"},{default:e(()=>[t(_,{cols:"8"},{default:e(()=>[t($,null,{default:e(()=>[o(c(r.team_info.name),1)]),_:2},1024),r.nickname?(s(),n(d,{key:0},{default:e(()=>[o(c(r.nickname),1)]),_:2},1024)):D("",!0),t(d,null,{default:e(()=>[o(c(r.role),1)]),_:2},1024),t(d,null,{default:e(()=>[o(c(l.formattedDate(r.date)),1)]),_:2},1024)]),_:2},1024),t(_,{cols:"4"},{default:e(()=>[t(b,null,{default:e(()=>[t(i,{class:"mt-4",onClick:m=>l.subtoken(r),color:"green"},{default:e(()=>[o("团队token管理")]),_:2},1032,["onClick"]),t(i,{class:"mt-4",onClick:m=>l.editTeam(r),color:"primary"},{default:e(()=>[o("修改团队信息")]),_:2},1032,["onClick"]),r.role==="admin"||r.role==="owner"?(s(),n(i,{key:0,class:"mt-4",onClick:m=>l.deleteTeam(r),color:"error"},{default:e(()=>[o("解散团队")]),_:2},1032,["onClick"])):(s(),n(i,{key:1,class:"mt-4",onClick:m=>l.deleteTeam(r),color:"error"},{default:e(()=>[o("退出团队")]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}const A=V(F,[["render",I]]);export{A as default};
