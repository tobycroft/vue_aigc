import{N as v}from"./Net-CbKWFvYy.js";import{_ as A,A as d,c as u,w as t,r as o,o as n,d as s,h as f,i as b,F as y,f as c,e as C,t as k,a as N}from"./index-BTMlZ-hC.js";const U={data(){return{valid:!0,formData:{self_id:null,add_friend:null,add_group:null,change_date:null,date:null,id:null},fields:[{key:"add_friend",label:"是否允许添加好友",type:"radio",options:[{value:-1,text:"禁止所有人添加"},{value:0,text:"根据白名单列表"},{value:1,text:"允许所有人添加"}]},{key:"add_group",label:"是否允许被拉到群中",type:"radio",options:[{value:-1,text:"禁止所有人添加"},{value:0,text:"根据白名单列表"},{value:1,text:"允许所有人添加"}]}]}},methods:{async submitForm(){var l=await new v("/v1/bot/setting/edit").PostFormData(this.formData);l.isSuccess?(d.SetAlert(l.echo),this.$router.go(-1)):d.SetAlert(l.echo)},back(){this.$router.go(-1)},async fillForm(){var l=await new v("/v1/bot/setting/get").PostFormData(this.$route.query);l.isSuccess?this.formData=l.data:d.SetAlert(l.echo)}},mounted(){this.fillForm()}};function B(l,m,P,q,a,_){const h=o("v-text-field"),x=o("v-toolbar-title"),g=o("v-toolbar"),V=o("v-chip"),D=o("v-chip-group"),i=o("v-col"),w=o("v-row"),p=o("v-btn"),F=o("v-form"),S=o("v-container");return n(),u(S,null,{default:t(()=>[s(F,{modelValue:a.valid,"onUpdate:modelValue":m[0]||(m[0]=e=>a.valid=e),ref:"form",onSubmit:C(_.submitForm,["prevent"])},{default:t(()=>[s(w,null,{default:t(()=>[(n(!0),f(y,null,b(a.fields,e=>(n(),u(i,{key:e.key,cols:"12"},{default:t(()=>[e.type==="text"||e.type==="date"?(n(),u(h,{key:0,"hide-details":"auto",label:e.label,modelValue:a.formData[e.key],"onUpdate:modelValue":r=>a.formData[e.key]=r,readonly:""},null,8,["label","modelValue","onUpdate:modelValue"])):e.type==="radio"?(n(),u(i,{key:e.key,cols:"12",elevation:"10"},{default:t(()=>[s(g,{flat:"",color:"deep-purple-accent-4",dark:""},{default:t(()=>[s(x,null,{default:t(()=>[c(k(e.label),1)]),_:2},1024)]),_:2},1024),s(D,{modelValue:a.formData[e.key],"onUpdate:modelValue":r=>a.formData[e.key]=r,filter:""},{default:t(()=>[(n(!0),f(y,null,b(e.options,r=>(n(),u(V,{key:r.value,value:r.value,class:"ma-2"},{default:t(()=>[c(k(r.text),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)):N("",!0)]),_:2},1024))),128))]),_:1}),s(p,{type:"submit",disabled:!a.valid,block:"",color:"primary",class:"mt-4"},{default:t(()=>[c("提交")]),_:1},8,["disabled"]),s(p,{block:"",color:"grey",class:"mt-4",onClick:_.back},{default:t(()=>[c("返回")]),_:1},8,["onClick"])]),_:1},8,["modelValue","onSubmit"])]),_:1})}const M=A(U,[["render",B]]);export{M as default};
