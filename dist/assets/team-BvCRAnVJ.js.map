{"version":3,"file":"team-BvCRAnVJ.js","sources":["../../src/views/v1/user/team.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-card>\r\n      <v-card-title>团队列表</v-card-title>\r\n      <v-card-text>\r\n        <v-list>\r\n          <v-list-item v-for=\"team in teamList\" :key=\"team.id\">\r\n            <v-row align=\"center\" justify=\"space-between\">\r\n              <v-col cols=\"8\">\r\n                <v-list-item-title>{{ team.team_info.name }}</v-list-item-title>\r\n                <v-list-item-subtitle v-if=\"team.nickname\">{{ team.nickname }}</v-list-item-subtitle>\r\n                <v-list-item-subtitle>{{ team.role }}</v-list-item-subtitle>\r\n                <v-list-item-subtitle>{{ formattedDate(team.date) }}</v-list-item-subtitle>\r\n              </v-col>\r\n              <v-col cols=\"4\">\r\n                <v-btn-group>\r\n                  <v-btn class=\"mt-4\" @click=\"subtoken(team)\" color=\"green\">团队token管理</v-btn>\r\n                  <v-btn class=\"mt-4\" @click=\"editTeam(team)\" color=\"primary\">修改团队信息</v-btn>\r\n                  <v-btn class=\"mt-4\" v-if=\"team.role === 'admin' || team.role === 'owner'\" @click=\"deleteTeam(team)\" color=\"error\">解散团队</v-btn>\r\n                  <v-btn class=\"mt-4\" v-else @click=\"deleteTeam(team)\" color=\"error\">退出团队</v-btn>\r\n                </v-btn-group>\r\n              </v-col>\r\n            </v-row>\r\n          </v-list-item>\r\n        </v-list>\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Net from \"@/plugins/Net\";\r\nimport moment from \"moment\";\r\nimport top_header from \"@/components/center/header/topheader.vue\";\r\n\r\nexport default {\r\n  components: {top_header},\r\n  data() {\r\n    return {\r\n      teamList: [], // 存储团队列表数据\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchTeamList() {\r\n      // 发送获取团队列表的请求\r\n      const ret = await new Net(\"/v1/user/team/list\").PostFormData();\r\n      if (ret.code === 0) {\r\n        // 更新 teamList\r\n        this.teamList = ret.data;\r\n      } else {\r\n        // 处理请求失败的情况\r\n        console.error(ret.echo);\r\n      }\r\n    },\r\n    async addTeam() {\r\n      this.$router.push('/v1/user/team/create');\r\n    },\r\n    async deleteTeam(team) {\r\n      // 发送删除团队的请求\r\n      const ret = await new Net(\"/v1/user/team/delete\").PostFormData(team);\r\n      if (ret.code === 0) {\r\n        // 删除成功，重新获取团队列表数据\r\n        this.fetchTeamList();\r\n      } else {\r\n        // 处理删除失败的情况\r\n        console.error(ret.echo);\r\n      }\r\n    },\r\n    async editTeam(team) {\r\n      // 根据团队信息跳转到编辑页面\r\n      this.$router.push({path: '/v1/user/team/edit', query: team});\r\n    },\r\n    async subtoken(team) {\r\n      // 根据团队信息跳转到编辑页面\r\n      this.$router.push({path: `/v1/team/subtoken`, query: team});\r\n    },\r\n    formattedDate(date) {\r\n      // 格式化日期\r\n      return moment(date).format('YYYY-MM-DD HH:mm:ss');\r\n    }\r\n  },\r\n  mounted() {\r\n    // 在组件挂载时调用 fetchTeamList 方法获取团队列表数据\r\n    this.fetchTeamList();\r\n  },\r\n};\r\n</script>\r\n"],"names":["top_header","team","moment","_createBlock","_component_v_container","_withCtx","_createVNode","_component_v_card","_component_v_card_title","_createTextVNode","_component_v_card_text","_component_v_list","_openBlock","_createElementBlock","_Fragment","_renderList","_component_v_list_item","_component_v_row","_component_v_col","_component_v_list_item_title","_toDisplayString","_component_v_list_item_subtitle","_createCommentVNode","_component_v_btn_group","_component_v_btn"],"mappings":"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"}